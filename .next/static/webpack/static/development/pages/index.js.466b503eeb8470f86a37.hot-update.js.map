{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.466b503eeb8470f86a37.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport { Card, Button, Feed } from 'semantic-ui-react';\r\nimport chatroom from '../ethereum/chatroom.js';\r\nimport web3 from '../ethereum/web3.js';\r\nimport Head from 'next/head';\r\n\r\nclass Index extends Component {\r\n  static async getInitialProps() {\r\n    const accounts = await web3.eth.getAccounts();\r\n    const chatLength = await chatroom.methods.getMessagesLength().call({\r\n      from: accounts[0]\r\n    });\r\n\r\n    var chatLog = [];\r\n    var authors = [];\r\n\r\n    for (let i = 0; i < chatLength; i++) {\r\n      let message = await chatroom.methods.getMessage(i).call({\r\n        from: accounts[0]\r\n      });\r\n\r\n      chatLog.push(message);\r\n    }\r\n\r\n    for (let i = 0; i < chatLength; i++) {\r\n      let author = await chatroom.methods.getAuthor(i).call({\r\n        from: accounts[0]\r\n      });\r\n\r\n      authors.push(author);\r\n    }\r\n    console.log(authors);\r\n    return { chatLog, authors }\r\n  }\r\n\r\n  getAuthors(i) {\r\n    return this.props.authors[i];\r\n  }\r\n\r\n  renderChat() {\r\n    const items = this.props.chatLog.map(string => {\r\n      return {\r\n        header: string,\r\n        description: this.getAuthors(this.props.chatLog.indexOf(string)),\r\n        fluid: true\r\n      };\r\n    });\r\n\r\n    return <Card.Group items={items}/>\r\n  }\r\n\r\n  render() {\r\n    return(\r\n      <div>\r\n        <Head>\r\n          <link\r\n            rel=\"stylesheet\"\r\n            href=\"//cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css\"\r\n          />\r\n        </Head>\r\n\r\n        <h1>Chatroom Application</h1>\r\n        <Card>\r\n          <Card.Content>\r\n            <Card.Header>Chatroom</Card.Header>\r\n          </Card.Content>\r\n          <Card.Content>\r\n            <Feed>\r\n\r\n            </Feed>\r\n          </Card.Content>\r\n        </Card>\r\n        {this.renderChat()}\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Index;\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AA6BA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAKA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;;;;;;;;;;;;;;AApEA;AACA;;AADA;;AACA;AACA;AADA;AACA;;AADA;AAIA;AACA;AAEA;AACA;;AADA;;;;;;AACA;AACA;AADA;AACA;;AADA;AAIA;AACA;;AANA;;;;;AAQA;AACA;;AADA;;;;;;AACA;AACA;AADA;AACA;;AADA;AAIA;AACA;;AANA;;;;;AAOA;AACA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;;AA3BA;AACA;AAwEA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}